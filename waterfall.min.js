function domutil(){}function waterfall(a){function b(a){return a+"px"}function c(b){domutil.width(a)!=l&&(b.target.removeEventListener(b.type,arguments.callee),waterfall(a))}"string"==typeof a&&(a=document.querySelector(a));var d=[].map.call(a.children,function(a){return a.style.position="absolute",a});a.style.position="relative";var e=[];d.length&&(d[0].style.top="0",d[0].style.left=b(domutil.margin("Left",d[0])),e.push(d[0]));for(var f=1;f<d.length;f++){var g=d[f-1],h=d[f],i=domutil.right(g)+domutil.width(h)<=domutil.width(a);if(!i)break;h.style.top=g.style.top,h.style.left=b(domutil.right(g)+domutil.margin("Left",h)),e.push(h)}for(;f<d.length;f++){domutil.sort(e);var h=d[f],j=e.pop();h.style.top=b(domutil.bottom(j)+domutil.margin("Top",h)),h.style.left=b(domutil.x(j)),e.push(h)}domutil.sort(e);var k=e[0];a.style.height=b(domutil.bottom(k)+domutil.margin("Bottom",k));var l=domutil.width(a);window.addEventListener?window.addEventListener("resize",c):document.body.onresize=c}domutil.margin=function(a,b){var c=window.getComputedStyle(b);return parseFloat(c["margin"+a])||0},domutil.y=function(a){return parseFloat(a.style.top)},domutil.x=function(a){return parseFloat(a.style.left)},domutil.width=function(a){return a.clientWidth},domutil.height=function(a){return a.clientHeight},domutil.bottom=function(a){return this.y(a)+this.height(a)+this.margin("Bottom",a)},domutil.right=function(a){return this.x(a)+this.width(a)+this.margin("Right",a)},domutil.sort=function(a){a=a.sort(function(a,b){return this.bottom(a)===this.bottom(b)?this.x(b)-this.x(a):this.bottom(b)-this.bottom(a)}.bind(this))};